{"openapi":"3.0.1","info":{"title":"PiiLearn EndPoints","description":"OpenApi documentation for Spring Boot PiiLearn backend application","termsOfService":"Terms of Service","contact":{"name":"Elias","url":"https://piilearn.com","email":"contact@piilearn.com"},"license":{"name":"Licence name","url":"https://licence.com"},"version":"1.0"},"servers":[{"url":"http://localhost:8080/api/v1","description":"Local ENV"},{"url":"https://piilearn.com","description":"Prod ENV"}],"security":[{"bearerAuth":[]}],"paths":{"/years":{"get":{"tags":["Year"],"summary":"Get all years in the database.","description":"Get all years in the database","operationId":"getAllYears","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/YearResponse"}}}}}}},"post":{"tags":["Year"],"summary":"Create a new year","description":"Creates a new year instance and returns the id of the created year. If the id of the year is provided it edits the existing year.","operationId":"createYear","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/YearRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/variants":{"get":{"tags":["Variant"],"summary":"Get all variants in the database","description":"Get all variants in the database","operationId":"getAllVariants","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VariantResponse"}}}}}}},"post":{"tags":["Variant"],"summary":"Create a new variant","description":"Creates a new variant instance and returns the id of the created variant. If the id of the variant is provided it edits the existing variant.","operationId":"createVariant","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VariantRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/user/update-username":{"post":{"tags":["User"],"summary":"Add or update the username if available","description":"Add or update the username if available","operationId":"addUsernameIfAvailable","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditUsernameRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/user/update-subjects":{"post":{"tags":["User"],"summary":"Add subjects to the user profile","description":"Add subject to the user profiles comes as a list","operationId":"addSubjectsToUserProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAddSubjectRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/subjects":{"get":{"tags":["Subjects"],"summary":"Get all subjects available","description":"Get all subjects available","operationId":"getAllSubjects","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubjectResponse"}}}}}}},"post":{"tags":["Subjects"],"summary":"Create a new subject","description":"Creates a new subject instance and returns the id of the created subject. If the id of the subject is provided, the existing subject is updated.","operationId":"createSubject","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/seasons":{"get":{"tags":["Season"],"summary":"Get all seasons available","description":"Get all seasons available","operationId":"getAllSeasons","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SeasonResponse"}}}}}}},"post":{"tags":["Season"],"summary":"Create a new season","description":"Creates a new season instance and returns the id of the created season. If the id of the season is provided the existing seasons is edited.","operationId":"createSeason","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeasonRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/mcq-questions":{"get":{"tags":["Multiple Choice Questions"],"summary":"Get all questions available","description":"This endpoint extract all the question and they're sorted by description of the question.","operationId":"findAllMcqQuestions","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseMcqQuestionResponse"}}}}}},"post":{"tags":["Multiple Choice Questions"],"summary":"Create a new mcq question","description":"Creates a new mcq question instance and returns the id of the created mcq question. If the id of the mcq question is provided, the existing mcq question is edited.","operationId":"createMcqQuestion","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/McqQuestionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/mcq-questions/add-mcq-answer":{"post":{"tags":["Multiple Choice Questions"],"summary":"Add a multiple choice question answer","description":"Adds an option as an answer after the option has beencreated and after it has been tied to the question otherwise it throws an error.returns the id of the question","operationId":"addMcqAnswer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/McqAddAnswerRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/mcq-options":{"post":{"tags":["Multiple Choice Options"],"summary":"Create a new multiple choice option.","description":"Create a new multiple choice option.","operationId":"createMcqOption","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/McqOptionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/exam-boards":{"post":{"tags":["Exam Board"],"summary":"Create a new exam board","description":"Creates a new exam board instance and returns the id of the created exam board. If the id of the exam board is provided, the existing exam board is edited.","operationId":"createExamBoard","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExamBoardRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/education-levels":{"post":{"tags":["Education Level"],"summary":"Create a new education level","description":"Creates a new education level instance and returns the id of the created education level. If the id of the education level is provided, the existing education level is edited.","operationId":"createExamBoard_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EducationLevelRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/auth/register":{"post":{"tags":["Authentication"],"operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationRequest"}}},"required":true},"responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/auth/authenticate":{"post":{"tags":["Authentication"],"operationId":"authenticateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/years/{year-id}":{"get":{"tags":["Year"],"summary":"Get a year by id","description":"Get a year by id","operationId":"getYearById","parameters":[{"name":"year-id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/YearResponse"}}}}}}},"/variants/{variant-id}":{"get":{"tags":["Variant"],"summary":"Get a variant by id.","description":"Get a variant by id.","operationId":"getVariantById","parameters":[{"name":"variant-id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VariantResponse"}}}}}}},"/subjects/syllabus-code/{syllabus-subject-code}":{"get":{"tags":["Subjects"],"summary":"Find a subject by sllabus code.","description":"Find a subject by unique sllabus code.","operationId":"findSubjectBySyllabusCode","parameters":[{"name":"syllabus-subject-code","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectResponse"}}}}}}},"/subjects/search":{"get":{"tags":["Subjects"],"summary":"Find a subject by id or syllabus code.","description":"Find a subject by either id or unique syllabus code.","operationId":"findSubject","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectResponse"}}}}}}},"/subjects/num-of-user-on-subject/{subject-id}":{"get":{"tags":["Subjects"],"summary":"Get a number of user who signed up for the subject.","description":"Get a number of users who signed up for the subject.","operationId":"findNumberOfUsersOnSubject","parameters":[{"name":"subject-id","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/subjects/id/{subject-id}":{"get":{"tags":["Subjects"],"summary":"Find a subject by id.","description":"Find a subject by id.","operationId":"findSubjectById","parameters":[{"name":"subject-id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectResponse"}}}}}}},"/seasons/{season-id}":{"get":{"tags":["Season"],"summary":"Get a season by id.","description":"Get a season by id.","operationId":"getSeasonById","parameters":[{"name":"season-id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeasonResponse"}}}}}}},"/mcq-questions/user-signed-subjects":{"get":{"tags":["Multiple Choice Questions"],"summary":"Get all respective questions from subjects that the user has signed up for","description":"If the user has at least one subject on their profile, output the respective questions","operationId":"findAllMcqQuestionsByUserSubjects","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseMcqQuestionResponse"}}}}}}},"/mcq-questions/mcq-answer/{mcq-question-id}":{"get":{"tags":["Multiple Choice Questions"],"summary":"Get the answer to the question whose id is passed.","description":"Get the answer to the question whose id is passed.","operationId":"getMcqAnswerByQuestionId","parameters":[{"name":"mcq-question-id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/McqAnswerResponse"}}}}}}},"/mcq-questions/find-by-mcq-code/{mcq-question-code}":{"get":{"tags":["Multiple Choice Questions"],"summary":"Gets a mcq question by mcqQuestionCode","description":"Gets a mcq question by mcqQuestionCode","operationId":"getMcqQuestionByMcqQuestionCode","parameters":[{"name":"mcq-question-code","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/McqQuestionResponse"}}}}}}},"/mcq-questions/find-by-id/{question-id}":{"get":{"tags":["Multiple Choice Questions"],"summary":"Gets a mcq question by id.","description":"Gets a mcq question by id.","operationId":"getMcqQuestionById","parameters":[{"name":"question-id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/McqQuestionResponse"}}}}}}},"/mcq-answer/get-answer-id/{mcq-question-id}":{"get":{"tags":["Multiple Choice Questions Answers"],"summary":"Get an answer id to the question whose id is passed","description":"Get an answer id to the question whose id is passed","operationId":"getAnswerIdToQuestion","parameters":[{"name":"mcq-question-id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/McqAnswerResponseWithId"}}}}}}},"/auth/activate-account":{"get":{"tags":["Authentication"],"operationId":"confirmEmail","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"YearRequest":{"required":["year","yearCode"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"year":{"type":"integer","format":"int32"},"yearCode":{"type":"integer","format":"int32"}}},"VariantRequest":{"required":["variant"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"variant":{"type":"integer","format":"int32"}}},"EditUsernameRequest":{"type":"object","properties":{"username":{"type":"string"}}},"UserAddSubjectRequest":{"required":["subjectsIds"],"type":"object","properties":{"subjectsIds":{"maxItems":2147483647,"minItems":1,"uniqueItems":true,"type":"array","items":{"type":"integer","format":"int64"}}}},"SubjectRequest":{"required":["educationLevelId","examBoardId","subjectName","syllabusSubjectCode"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"subjectName":{"type":"string"},"syllabusSubjectCode":{"type":"string"},"educationLevelId":{"type":"integer","format":"int64"},"examBoardId":{"type":"integer","format":"int64"}}},"SeasonRequest":{"required":["seasonName","seasonNameCode"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"seasonName":{"type":"string"},"seasonNameCode":{"maxLength":2,"minLength":0,"pattern":"^[A-Za-z]+$","type":"string"}}},"McqQuestionRequest":{"required":["mcqQuestionDescription","mcqQuestionNumOnOriginalPaper","seasonId","subjectId","variantId","yearId"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"mcqQuestionDescription":{"type":"string"},"mcqQuestionNumOnOriginalPaper":{"type":"integer","format":"int32"},"yearId":{"type":"integer","format":"int64"},"subjectId":{"type":"integer","format":"int64"},"seasonId":{"type":"integer","format":"int64"},"variantId":{"type":"integer","format":"int64"}}},"McqAddAnswerRequest":{"type":"object","properties":{"mcqOptionId":{"type":"integer","format":"int64"},"questionId":{"type":"integer","format":"int64"}}},"McqOptionRequest":{"required":["mcqQuestionId","optionDescription","optionRep"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"optionRep":{"maxLength":1,"minLength":0,"type":"string"},"optionDescription":{"type":"string"},"mcqQuestionId":{"type":"integer","format":"int64"}}},"ExamBoardRequest":{"required":["examBoard"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"examBoard":{"type":"string"}}},"EducationLevelRequest":{"required":["educationLevel","educationLevelCode"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"educationLevel":{"type":"string"},"educationLevelCode":{"type":"string"}}},"RegistrationRequest":{"required":["email","firstname","lastname","password"],"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"},"password":{"pattern":"^(?=.*[A-Z])(?=.*[@$!%*?&#])[A-Za-z\\d@$!%*?&#]{8,}$","type":"string"}}},"AuthenticationRequest":{"required":["password","usernameOrEmailAddress"],"type":"object","properties":{"usernameOrEmailAddress":{"type":"string"},"password":{"type":"string"}}},"AuthenticationResponse":{"type":"object","properties":{"token":{"type":"string"}}},"YearResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"year":{"type":"integer","format":"int32"},"yearCode":{"type":"integer","format":"int32"}}},"VariantResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"variant":{"type":"integer","format":"int32"}}},"SubjectResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"subjectName":{"type":"string"},"syllabusSubjectCode":{"type":"string"},"educationLevel":{"type":"string"},"examBoard":{"type":"string"},"piiLearnUsersWhoAreCurSignedNum":{"type":"integer","format":"int32"}}},"SeasonResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"seasonName":{"type":"string"},"seasonCode":{"type":"string"}}},"McqQuestionResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"mcqQuestionCode":{"type":"string"},"mcqQuestionDescription":{"type":"string"},"mcqQuestionNumOnOriginalPaper":{"type":"integer","format":"int32"},"year":{"type":"integer","format":"int32"},"subject":{"type":"string"},"subjectCode":{"type":"string"},"mcqOptions":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"type":"string"}}},"seasonCode":{"type":"string"},"variant":{"type":"integer","format":"int32"},"levelCode":{"type":"string"},"examBoard":{"type":"string"},"completedByCurrentUser":{"type":"boolean"}}},"PageResponseMcqQuestionResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/McqQuestionResponse"}},"number":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"firstPage":{"type":"boolean"},"lastPage":{"type":"boolean"}}},"McqAnswerResponse":{"type":"object","properties":{"mcqAnswerCode":{"type":"string"},"mcqAnswerAsOption":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"type":"string"}}}}},"McqAnswerResponseWithId":{"type":"object","properties":{"mcqOptionIdCorrectAnswer":{"type":"integer","format":"int64"}}}},"securitySchemes":{"bearerAuth":{"type":"http","description":"JWT auth description","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}
